<section class="banner">
  <div class="banner-container">
    <div class="banner-slide" *ngFor="let slide of slides; let i = index" [ngClass]="{ active: i === currentSlide }">
      <div class="banner-image">
        <img [src]="slide.image" alt="Banner {{ i + 1 }}">
      </div>
      <div class="banner-content">
        <h2>{{ slide.subtitle }}</h2>
        <h1>{{ slide.title }}</h1>
        <div class="banner-buttons">
          <a class="link-button" [href]="slide.linkButtonUrl">{{ slide.linkButtonText }}</a>
          <a class="reward-button" [href]="slide.rewardButtonUrl">{{ slide.rewardButtonText }}</a>
        </div>
        <a class="details-link" [href]="slide.detailsUrl">{{ slide.detailsText }}</a>
      </div>
    </div>
  </div>
  <div class="banner-navigation">
    <button class="prev-button" (click)="prevSlide()" [disabled]="slides.length <= 1">
      <i class="fas fa-chevron-left"></i>
    </button>
    <button class="next-button" (click)="nextSlide()" [disabled]="slides.length <= 1">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>
</section>

<!-- New Category Gallery Section -->
<section class="category-gallery">
  <div class="gallery-grid">
    <div class="gallery-item large">
      <img src="https://product.hstatic.net/200000065946/product/pro_xam_noi_that_moho_sofa_2_734c2cf3b5674220a6305219e51aec73_large.jpg" alt="Sofa" loading="lazy">
      <span class="category-label">SOFA</span>
    </div>
    <div class="gallery-item small">
      <img src="https://product.hstatic.net/200000065946/product/pro_combo_ban_an_4_ghe_noi_that_moho_combo___1__a278207568a84c75aaaeb001710d1972_large.jpg" alt="Table" loading="lazy">
      <span class="category-label">BÀN ĂN</span>
    </div>
    <div class="gallery-item small">
      <img src="https://product.hstatic.net/200000065946/product/pro_nau_noi_that_moho_combo_phong_ngu_dalumd_4_mon_1_347053d304bc4750a8491e34315e1f45_master.jpg" alt="Bed" loading="lazy">
      <span class="category-label">GIƯỜNG</span>
    </div>
    <div class="gallery-item small">
      <img src="https://product.hstatic.net/200000065946/product/pro_nau_noi_that_moho_ghe_sofa_go_fyn_1_17e0228ac2144b95ba105333ef3bc994_master.jpg" alt="Armchair" loading="lazy">
      <span class="category-label">ARMCHAIR</span>
    </div>
    <div class="gallery-item small">
      <img src="https://product.hstatic.net/200000065946/product/pro_mau_tu_nhien_noi_that_moho_ghe_an_vline_1_e4a9936f38fe4b67aebf70c35f804e25_master.jpg" alt="Chair" loading="lazy">
      <span class="category-label">GHẾ ĂN</span>
    </div>
  </div>
</section>

<div class="container">
  <app-listcard *ngIf="newProducts.length > 0" [data]="newProducts" [title]="'Sản phẩm mới'"></app-listcard>
  <app-listcard *ngIf="saleProducts.length > 0" [data]="saleProducts" [title]="'Sản phẩm sale'"></app-listcard>
  <app-listcard *ngIf="hotProducts.length > 0" [data]="hotProducts" [title]="'Sản phẩm hot'"></app-listcard>
</div>

<!-- News Section -->
<section class="news-section">
  <div class="container">
    <div class="section-header">
      <h2>Tin tức</h2>
      <a href="/news" class="view-more">Xem thêm</a>
    </div>
    <div class="news-grid">
      <div class="news-card" *ngFor="let news of newsItems">
        <div class="news-image">
          <img [src]="news.image" [alt]="news.title" loading="lazy">
        </div>
        <div class="news-info">
          <h3 class="news-title">{{ news.title }}</h3>
          <p class="news-date">{{ news.date }}</p>
          <p class="news-description">{{ news.description }}</p>
          <a [href]="news.link" class="read-more">Đọc thêm</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Comment Section -->
<section class="comment-section">
  <div class="container">
    <h2>Bình luận</h2>
    <div *ngIf="comments.length === 0" class="no-comments">Chưa có bình luận nào.</div>
    <div class="comment-list">
      <div class="comment-item" *ngFor="let cmt of comments">
        <div class="comment-header">
          <strong>{{ cmt.userName }}</strong> <span class="comment-email">({{ cmt.userEmail }})</span>
          <span class="comment-rating">- Đánh giá: {{ cmt.rating }}/5</span>
        </div>
        <div class="comment-content">{{ cmt.content }}</div>
        <div class="comment-date">{{ cmt.createdAt ? (cmt.createdAt | date:'dd/MM/yyyy HH:mm') : '' }}</div>
      </div>
    </div>
    <div class="comment-form">
      <h3>Gửi bình luận của bạn</h3>
      <div *ngIf="commentError" class="comment-error">{{ commentError }}</div>
      <form (ngSubmit)="submitComment()" #commentForm="ngForm">
        <input type="text" [(ngModel)]="newCommentName" name="name" placeholder="Tên của bạn" required />
        <input type="email" [(ngModel)]="newCommentEmail" name="email" placeholder="Email" required />
        <select [(ngModel)]="newCommentRating" name="rating" required>
          <option [value]="5">5 sao</option>
          <option [value]="4">4 sao</option>
          <option [value]="3">3 sao</option>
          <option [value]="2">2 sao</option>
          <option [value]="1">1 sao</option>
        </select>
        <textarea [(ngModel)]="newCommentContent" name="content" placeholder="Nội dung bình luận" rows="3" required></textarea>
        <button type="submit" [disabled]="isSubmittingComment">Gửi bình luận</button>
      </form>
    </div>
  </div>
</section>
